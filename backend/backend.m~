function trialseq = backend(trialseq, settings, id)

    % Shortnames
    trials = settings.trials.number_of_trials;
    blocks = settings.trials.number_of_blocks;
    numberOfColumns = length(fieldnames(id));
    ow = settings.screen.outwindow; % out window for drawing to screen
    owd = settings.screen.outwindowdims; % out window dimensions
    
    % Open welcome screen
    glo_welcome(ow,'Press Any Key To Begin!',[0 0 0]);
    
    for it = 1:trials
        
        % Begin timer / set time tracker
        if it == 1; beginTime = GetSecs; end
        trialseq(it, id.time) = GetSecs - beginTime;
        
        % Draw Box
        DrawHollowSquare(settings,settings.loc.box,settings.size.box);
        Screen('Flip',ow);
        WaitSecs(settings.durations.offset);
        
        % Draw Box with dot
        DrawHollowSquare(settings,settings.loc.box,settings.size.box);
        dotloc = randi([1 4],1,1);
        Screen('DrawDots', ow, ...
            settings.loc.circle{dotloc}, ...
            settings.size.dotradius, ...
            settings.color.dot, ...
            [], 1);
        Screen('Flip',ow);
        
        % Wait for response
        while GetSecs - starttime <= duration
            [~,~,keycode] = KbCheck(-1);
            if KbName(keycode) == respKeys{1}
                resp = 1;
                rt = GetSecs - starttime;
                break
            elseif KbName(keycode) == respKeys{2}
                resp = 2;
                rt = GetSecs - starttime;
                break
            end
            WaitSecs(0.001); % prevent overload
        end
        
        % Save
        save(fullfile(settings.files.outfolder,settings.files.outfile),'trialseq','settings');
        
        % Block break / feedback
        if it == trials || trialseq(it,id.block) ~= trialseq(it+1,id.block)
            blockfeedback(settings, trialseq, it)
        end
        
        % Thank participant at end of experiment
        if it == trials; glo_outro(ow); end
        
    end
       
end